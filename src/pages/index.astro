---
import PageLayout from '../layouts/PageLayout.astro';

const col1Masters = [
  {id:"nelson-nash",name:"Nelson Nash"},
  {id:"carlos-lara",name:"Carlos Lara"},
  {id:"ludwig-von-mises",name:"Ludwig von Mises"},
  {id:"frederic-bastiat",name:"Fr√©d√©ric Bastiat"},
  {id:"carl-menger",name:"Carl Menger"},
];

const col2Masters = [
  {id:"robert-murphy",name:"Robert Murphy"},
  {id:"leonard-read",name:"Leonard Read"},
  {id:"murray-rothbard",name:"Murray Rothbard"},
  {id:"henry-hazlitt",name:"Henry Hazlitt"},
];

const allMasters = [
  {id:"nelson-nash",name:"Nelson Nash",role:"Creator of the Infinite Banking Concept",years:"1931‚Äì2019",size:"2xl"},
  {id:"robert-murphy",name:"Robert Murphy",role:"Economist & IBC Educator",years:"",size:"xl"},
  {id:"carlos-lara",name:"Carlos Lara",role:"Author & IBC Strategist",years:"",size:"xl"},
  {id:"leonard-read",name:"Leonard Read",role:"Founder of FEE",years:"1898‚Äì1983",size:"xl"},
  {id:"ludwig-von-mises",name:"Ludwig von Mises",role:"Austrian Economics Pioneer",years:"1881‚Äì1973",size:"xl"},
  {id:"murray-rothbard",name:"Murray Rothbard",role:"Economist & Libertarian Theorist",years:"1926‚Äì1995",size:"xl"},
  {id:"frederic-bastiat",name:"Fr√©d√©ric Bastiat",role:'French Economist & Author of "The Law"',years:"1801‚Äì1850",size:"xl"},
  {id:"henry-hazlitt",name:"Henry Hazlitt",role:'Author of "Economics in One Lesson"',years:"1894‚Äì1993",size:"xl"},
  {id:"carl-menger",name:"Carl Menger",role:"Founder of the Austrian School",years:"1840‚Äì1921",size:"xl"},
];

const personas = [
  { label: "Build a Legacy", desc: "I want to bless my children even when I'm gone", href: "/paths/parent" },
  { label: "Find Freedom", desc: "The rat race is exhausting ‚Äî show me another way", href: "/paths/freedom-seeker" },
  { label: "Fund Deals", desc: "I need capital on my terms, not the bank's", href: "/paths/real-estate" },
  { label: "Just Curious", desc: "I keep hearing about this ‚Äî show me what it is", href: "/learn/start-here" },
  { label: "Prove It", desc: "I'm skeptical ‚Äî compare it to what I'm doing", href: "/learn/compared-to-what" },
  { label: "Own a Business", desc: "I want to finance growth without losing control", href: "/paths/business-owner" },
  { label: "Go Deeper", desc: "I already know the basics ‚Äî take me further", href: "/learn" },
  { label: "Beyond 401(k)", desc: "My retirement plan feels like someone else's idea", href: "/paths/professional" },
];

const tabs = [
  {cat:"trending",icon:"üî•",label:"Trending"},
  {cat:"fundamentals",icon:"üìñ",label:"Fundamentals"},
  {cat:"how-it-works",icon:"‚öôÔ∏è",label:"How It Works"},
  {cat:"compared",icon:"üÜö",label:"Compared to What?"},
  {cat:"business",icon:"üíº",label:"Business Cases"},
  {cat:"family",icon:"üë®‚Äçüë©‚Äçüëß‚Äçüë¶",label:"Family Banking"},
  {cat:"austrian",icon:"üìâ",label:"Austrian Economics"},
];

const curriculumCards = [
  {href:"/learn/articles/what-is-ibc",cat:"trending",badge:"Trending",title:"What Is the Infinite Banking Concept?",desc:"The definitive introduction to Nelson Nash's revolutionary idea. No jargon, just clarity.",time:"8 min read",hidden:false},
  {href:"/learn/compared-to-what",cat:"trending",badge:"Popular",title:"IBC vs. 401(k): The Real Comparison",desc:"Stop comparing apples to oranges. Learn the right framework for evaluating IBC.",time:"12 min read",hidden:false},
  {href:"/learn/articles/who-should-consider-ibc",cat:"trending",badge:"New",title:"The Family Banking System Explained",desc:"How one policy can become a multi-generational financial engine.",time:"10 min read",hidden:false},
  {href:"/learn/articles/the-banking-function",cat:"fundamentals",badge:"Start Here",title:"The Banking Function: What Nash Really Meant",desc:"The most misunderstood concept in IBC. It's not about a product ‚Äî it's about a process.",time:"7 min read",hidden:true},
  {href:"/learn/articles/why-whole-life",cat:"fundamentals",badge:"Core",title:"Why Whole Life Insurance? The Vehicle Explained",desc:"Understanding why dividend-paying whole life is the only vehicle for IBC.",time:"9 min read",hidden:true},
  {href:"/learn/articles/banking-vs-investing",cat:"fundamentals",badge:"Core",title:"Banking vs. Investing: Know the Difference",desc:"The fundamental distinction most financial educators miss entirely.",time:"6 min read",hidden:true},
  {href:"/learn/articles/how-policy-loans-work",cat:"how-it-works",badge:"Mechanics",title:"Policy Loans: How They Actually Work",desc:"Borrow against your policy while it continues earning dividends. Here's the mechanics.",time:"11 min read",hidden:true},
  {href:"/learn/articles/paid-up-additions",cat:"how-it-works",badge:"Mechanics",title:"The MEC Line: What You Need to Know",desc:"Modified Endowment Contracts explained. Why overfunding too fast can change everything.",time:"8 min read",hidden:true},
  {href:"/learn/articles/dividends-explained",cat:"how-it-works",badge:"Mechanics",title:"Dividends, Guaranteed Values & the General Account",desc:"How mutual insurance companies work and why it matters for your banking system.",time:"10 min read",hidden:true},
  {href:"/learn/compared-to-what",cat:"compared",badge:"Comparison",title:"IBC vs. Dave Ramsey's Advice",desc:"A respectful but thorough examination of why Dave gets this one wrong.",time:"14 min read",hidden:true},
  {href:"/learn/articles/whole-life-vs-term",cat:"compared",badge:"Comparison",title:"Whole Life vs. IUL: Setting the Record Straight",desc:"Indexed Universal Life is not IBC. Here's why the vehicle matters.",time:"11 min read",hidden:true},
  {href:"/learn/articles/dave-ramsey-btid-myth",cat:"compared",badge:"Analysis",title:"Buy Term and Invest the Difference?",desc:"The most common objection to IBC, thoroughly dismantled with math.",time:"13 min read",hidden:true},
  {href:"/learn/case-studies",cat:"business",badge:"Case Study",title:"Real Estate: Financing Deals From Your Policy",desc:"How investors use IBC to become their own private lender on every acquisition.",time:"12 min read",hidden:true},
  {href:"/learn/case-studies",cat:"business",badge:"Case Study",title:"The Chiropractor Who Became His Own Bank",desc:"A real-world case study of a business owner implementing IBC over 5 years.",time:"9 min read",hidden:true},
  {href:"/learn/case-studies",cat:"business",badge:"Strategy",title:"Business IBC: Equipment, Payroll, and Cash Flow",desc:"Using the banking function for every major business expenditure.",time:"10 min read",hidden:true},
  {href:"/learn/articles/who-should-consider-ibc",cat:"family",badge:"Legacy",title:"Proverbs 13:22 ‚Äî A Good Man Leaves an Inheritance",desc:"The biblical principle behind generational wealth and how IBC makes it practical.",time:"7 min read",hidden:true},
  {href:"/learn/articles/who-should-consider-ibc",cat:"family",badge:"Strategy",title:"Insuring Your Children: Starting Early",desc:"Why starting policies on children creates the most powerful banking systems.",time:"8 min read",hidden:true},
  {href:"/learn/case-studies",cat:"family",badge:"Planning",title:"The Multi-Generational Family Bank",desc:"How families create perpetual wealth through interconnected policies.",time:"11 min read",hidden:true},
  {href:"/learn/articles/nelson-nash-byob",cat:"austrian",badge:"Theory",title:"Austrian Economics 101: Why It Matters for IBC",desc:"The economic framework that underpins everything Nelson Nash taught.",time:"9 min read",hidden:true},
  {href:"/learn/articles/banking-vs-investing",cat:"austrian",badge:"Theory",title:"The Broken Window Fallacy & Your Money",desc:"How Bastiat's 170-year-old insight reveals what banks don't want you to see.",time:"6 min read",hidden:true},
  {href:"/learn/articles/the-banking-function",cat:"austrian",badge:"Deep Dive",title:"Sound Money, Time Preference & IBC",desc:"The connection between low time preference, savings, and the banking function.",time:"12 min read",hidden:true},
];

const testimonials = [
  {quote:"Finally, someone explaining IBC without trying to sell me a policy. Brad teaches the concept ‚Äî and trusts you to make your own decision.",author:"Community Member",source:"YouTube comment"},
  {quote:"The Start Here guide is the best introduction to IBC I've found anywhere. I've read BYOB twice now because of this site.",author:"YouTube Subscriber",source:"Email feedback"},
  {quote:"Brad breaks down Nelson Nash's concepts in a way that actually clicks. This is what financial education should look like.",author:"Podcast Listener",source:"Community forum"},
  {quote:"I was a skeptic. Compared-to-What changed my mind. The math is the math ‚Äî you can't argue with it once you see it clearly.",author:"Former Skeptic",source:"After completing the course"},
  {quote:"We started our family banking system after going through the parent track. Our kids will have a foundation we never had.",author:"Parent of Three",source:"Follow-up email"},
  {quote:"As a real estate investor, IBC changed how I think about financing. Every deal now starts with a policy loan.",author:"Real Estate Investor",source:"Community member"},
];

const mobileMasters = [
  {id:"nelson-nash",name:"Nelson Nash"},{id:"robert-murphy",name:"Robert Murphy"},{id:"carlos-lara",name:"Carlos Lara"},
  {id:"leonard-read",name:"Leonard Read"},{id:"ludwig-von-mises",name:"Ludwig von Mises"},{id:"murray-rothbard",name:"Murray Rothbard"},
  {id:"frederic-bastiat",name:"Fr√©d√©ric Bastiat"},{id:"henry-hazlitt",name:"Henry Hazlitt"},{id:"carl-menger",name:"Carl Menger"},
];
---

<PageLayout
  title="Learn the Banking Function from the Masters"
  description="Free courses on Nelson Nash's Infinite Banking Concept. No products. No sales pitch. Just the truth about how money works."
>

<!-- ============================================================
     HERO SECTION ‚Äî Dark navy with scrolling master portraits
     ============================================================ -->
<section class="relative overflow-hidden">
  <!-- Layered background -->
  <div class="absolute inset-0 bg-gradient-to-br from-navy-900 via-[#0d1b30] to-navy-900"></div>
  <div class="absolute inset-0 bg-[radial-gradient(ellipse_at_top_right,_rgba(201,168,76,0.07)_0%,_transparent_50%)]"></div>
  <div class="absolute inset-0 bg-[radial-gradient(ellipse_at_bottom_left,_rgba(27,54,93,0.3)_0%,_transparent_50%)]"></div>
  <!-- Subtle grid pattern -->
  <div class="absolute inset-0 opacity-[0.03]" style="background-image: linear-gradient(rgba(255,255,255,0.1) 1px, transparent 1px), linear-gradient(90deg, rgba(255,255,255,0.1) 1px, transparent 1px); background-size: 60px 60px;"></div>

  <div class="relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pt-6 sm:pt-8 lg:pt-10 pb-12 sm:pb-16 w-full">
    <div class="grid lg:grid-cols-[1fr_0.9fr] gap-6 lg:gap-14 items-stretch">

      <!-- Left: Text content + persona selector -->
      <div class="fade-in-left">
        <h1 class="text-3xl sm:text-4xl lg:text-[2.75rem] xl:text-5xl font-black text-white leading-[1.1] tracking-tight">
          Learn the
          <span class="block text-gold">Banking Function</span>
          <span class="block">from the Masters</span>
        </h1>

        <p class="mt-3 text-base sm:text-lg text-slate-300/90 leading-relaxed max-w-xl">
          Free courses on Nelson Nash's Infinite Banking Concept. No products. No sales pitch. Just the truth about how money works.
        </p>

        <!-- CTAs -->
        <div class="mt-5 flex flex-col sm:flex-row gap-3">
          <a href="/learn/start-here" class="inline-flex items-center justify-center px-6 py-3 bg-gradient-to-r from-gold to-gold-dark text-navy-900 font-extrabold text-sm rounded-lg hover:from-gold-light hover:to-gold transition-all duration-300 shadow-lg shadow-gold/25 hover:shadow-gold/40 hover:-translate-y-0.5 min-h-[44px]">
            Start Here ‚Äî It's Free
            <svg class="ml-2 w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M13 7l5 5m0 0l-5 5m5-5H6"></path></svg>
          </a>
          <a href="/watch" class="inline-flex items-center justify-center px-6 py-3 border border-slate-600/50 text-white font-semibold text-sm rounded-lg hover:border-gold/40 hover:text-gold transition-all duration-300 bg-white/[0.02] hover:bg-white/[0.04] min-h-[44px]">
            <svg class="mr-2 w-4 h-4" fill="currentColor" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"></path></svg>
            Watch the Intro
          </a>
        </div>

        <!-- Persona Selector -->
        <div class="mt-6 lg:mt-8" id="persona-selector">
          <h2 class="text-xs font-semibold text-slate-400 uppercase tracking-wider mb-3">What brings you here?</h2>
          <div class="flex flex-col gap-1.5 max-w-xl">
            {personas.map((persona) => (
              <label class="group flex items-center gap-3 px-3.5 py-2.5 rounded-lg bg-white/[0.03] border border-white/[0.06] hover:border-gold/30 hover:bg-gold/[0.05] transition-all duration-300 cursor-pointer persona-option" data-href={persona.href}>
                <input type="checkbox" name="persona" value={persona.label} class="hidden persona-checkbox" />
                <div class="w-5 h-5 rounded border-2 border-slate-600 group-hover:border-gold/60 flex items-center justify-center flex-shrink-0 transition-all duration-200 check-box">
                  <svg class="w-3 h-3 text-gold opacity-0 check-icon transition-opacity duration-200" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="3"><path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7"></path></svg>
                </div>
                <div class="flex-1 min-w-0">
                  <span class="text-white font-semibold text-sm group-hover:text-gold transition-colors">{persona.label}</span>
                  <span class="text-slate-500 text-xs ml-2 group-hover:text-slate-400 transition-colors">‚Äî {persona.desc}</span>
                </div>
              </label>
            ))}
          </div>
          <button id="persona-continue" class="mt-3 w-full max-w-xl inline-flex items-center justify-center px-5 py-2.5 bg-gold/10 border border-gold/20 text-gold font-semibold text-sm rounded-lg opacity-40 pointer-events-none transition-all duration-300">
            Continue
            <svg class="ml-2 w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M13 7l5 5m0 0l-5 5m5-5H6"></path></svg>
          </button>
        </div>
      </div>

      <!-- Right: Scrolling master portrait columns (desktop only) -->
      <div class="hidden lg:block relative overflow-hidden fade-in-right" id="masters-scroll-container">
        <div class="absolute top-0 left-0 right-0 h-24 bg-gradient-to-b from-navy-900 to-transparent z-10 pointer-events-none"></div>
        <div class="absolute bottom-0 left-0 right-0 h-8 bg-gradient-to-t from-navy-900 to-transparent z-10 pointer-events-none"></div>
        <div class="absolute inset-0 flex gap-4">
          <!-- Column 1 -->
          <div class="flex-1 masters-col" data-speed="0.3">
            <div class="flex flex-col gap-4 masters-track" id="col1-track">
              {col1Masters.map((m) => (
                <div class="relative rounded-xl overflow-hidden aspect-[3/4] flex-shrink-0">
                  <img src={`/images/masters/${m.id}.jpg`} alt={m.name} class="w-full h-full object-cover object-top grayscale brightness-75 hover:grayscale-0 hover:brightness-100 transition-all duration-700" loading="lazy" />
                  <div class="absolute bottom-0 left-0 right-0 p-3 bg-gradient-to-t from-black/70 to-transparent">
                    <span class="text-white/90 text-xs font-semibold">{m.name}</span>
                  </div>
                </div>
              ))}
            </div>
          </div>
          <!-- Column 2 -->
          <div class="flex-1 masters-col" data-speed="0.4" style="transform: translateY(80px);">
            <div class="flex flex-col gap-4 masters-track" id="col2-track">
              {col2Masters.map((m) => (
                <div class="relative rounded-xl overflow-hidden aspect-[3/4] flex-shrink-0">
                  <img src={`/images/masters/${m.id}.jpg`} alt={m.name} class="w-full h-full object-cover object-top grayscale brightness-75 hover:grayscale-0 hover:brightness-100 transition-all duration-700" loading="lazy" />
                  <div class="absolute bottom-0 left-0 right-0 p-3 bg-gradient-to-t from-black/70 to-transparent">
                    <span class="text-white/90 text-xs font-semibold">{m.name}</span>
                  </div>
                </div>
              ))}
            </div>
          </div>
        </div>
      </div>

      <!-- Mobile: Horizontal scroll of master photos -->
      <div class="lg:hidden -mx-4 px-4">
        <div class="flex gap-3 overflow-x-auto horizontal-scroll pb-2 snap-x snap-mandatory">
          {mobileMasters.map((m) => (
            <div class="flex-shrink-0 w-28 snap-start">
              <div class="relative rounded-lg overflow-hidden aspect-[3/4]">
                <img src={`/images/masters/${m.id}.jpg`} alt={m.name} class="w-full h-full object-cover object-top grayscale brightness-75" loading="lazy" />
                <div class="absolute bottom-0 left-0 right-0 p-1.5 bg-gradient-to-t from-black/70 to-transparent">
                  <span class="text-white/90 text-[10px] font-semibold leading-tight">{m.name}</span>
                </div>
              </div>
            </div>
          ))}
        </div>
      </div>

    </div>
  </div>
</section>

<!-- ============================================================
     TRUST BAR
     ============================================================ -->
<section class="relative border-y border-white/[0.06] bg-navy-900/80">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-5">
    <div class="flex flex-wrap items-center justify-center gap-6 lg:gap-12">
      <div class="flex items-center gap-2.5 text-slate-400">
        <span class="text-gold flex-shrink-0"><svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg></span>
        <span class="text-sm font-medium whitespace-nowrap">Based on Nelson Nash's teachings</span>
      </div>
      <div class="flex items-center gap-2.5 text-slate-400">
        <span class="text-gold flex-shrink-0"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path></svg></span>
        <span class="text-sm font-medium whitespace-nowrap">50+ free lessons</span>
      </div>
      <div class="flex items-center gap-2.5 text-slate-400">
        <span class="text-gold flex-shrink-0"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"></path></svg></span>
        <span class="text-sm font-medium whitespace-nowrap">No products sold ‚Äî ever</span>
      </div>
      <div class="flex items-center gap-2.5 text-slate-400">
        <span class="text-gold flex-shrink-0"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg></span>
        <span class="text-sm font-medium whitespace-nowrap">NNI Authorized Practitioner</span>
      </div>
    </div>
  </div>
</section>

<!-- ============================================================
     MASTERS GRID ‚Äî "Standing on the Shoulders of Giants"
     ============================================================ -->
<section class="py-20 lg:py-28 relative overflow-hidden">
  <div class="absolute inset-0 bg-gradient-to-b from-navy-900 to-navy-dark/80"></div>
  <div class="relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="text-center max-w-2xl mx-auto mb-16 fade-in-up">
      <span class="text-gold text-sm font-semibold tracking-[0.2em] uppercase">Standing on the Shoulders of Giants</span>
      <h2 class="mt-4 text-3xl sm:text-4xl lg:text-5xl font-extrabold text-white tracking-tight">Learn From the <span class="text-gold">Masters</span></h2>
      <p class="mt-4 text-lg text-slate-400">The ideas behind IBC span centuries of economic thought. These are the voices that shaped it.</p>
    </div>

    <!-- Desktop grid -->
    <div class="hidden lg:grid lg:grid-cols-3 gap-6 stagger-children">
      {allMasters.map((m) => (
        <div class="group relative rounded-2xl border border-white/[0.08] overflow-hidden transition-all duration-500 hover:border-gold/30">
          <div class="relative aspect-[3/4] overflow-hidden portrait-desaturated">
            <img src={`/images/masters/${m.id}.jpg`} alt={m.name} class="w-full h-full object-cover object-top" loading="lazy" />
            <div class="absolute inset-0 bg-gradient-to-t from-navy-900 via-navy-900/40 to-transparent opacity-60 group-hover:opacity-80 transition-opacity duration-500"></div>
            <div class="absolute bottom-0 left-0 right-0 p-6">
              <h3 class={`font-bold text-gold text-${m.size}`}>{m.name}</h3>
              <p class="text-white/80 text-sm mt-1">{m.role}</p>
              {m.years && <p class="text-slate-400 text-xs mt-1">{m.years}</p>}
            </div>
          </div>
        </div>
      ))}
    </div>

    <!-- Mobile: Horizontal scroll -->
    <div class="lg:hidden">
      <div class="flex gap-4 overflow-x-auto horizontal-scroll pb-4 -mx-4 px-4 snap-x snap-mandatory">
        {allMasters.map((m) => (
          <div class="flex-shrink-0 w-64 snap-start">
            <div class="group relative rounded-2xl border border-white/[0.08] overflow-hidden">
              <div class="relative aspect-[3/4] overflow-hidden">
                <img src={`/images/masters/${m.id}.jpg`} alt={m.name} class="w-full h-full object-cover object-top grayscale brightness-75" loading="lazy" />
                <div class="absolute inset-0 bg-gradient-to-t from-navy-900 via-navy-900/40 to-transparent opacity-70"></div>
                <div class="absolute bottom-0 left-0 right-0 p-5">
                  <h3 class="text-lg font-bold text-gold">{m.name}</h3>
                  <p class="text-white/80 text-xs mt-1">{m.role}</p>
                  {m.years && <p class="text-slate-400 text-xs mt-0.5">{m.years}</p>}
                </div>
              </div>
            </div>
          </div>
        ))}
      </div>
      <div class="flex justify-center mt-4 gap-1.5">
        <div class="w-1.5 h-1.5 rounded-full bg-gold"></div>
        {Array.from({length:8}).map(() => <div class="w-1.5 h-1.5 rounded-full bg-slate-600"></div>)}
      </div>
    </div>
  </div>
</section>

<!-- ============================================================
     CURRICULUM TABS
     ============================================================ -->
<section class="py-20 lg:py-28 relative">
  <div class="absolute inset-0 bg-gradient-to-b from-navy-dark/50 to-navy-900"></div>
  <div class="relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="text-center max-w-2xl mx-auto mb-12 fade-in-up">
      <h2 class="text-3xl sm:text-4xl lg:text-5xl font-extrabold text-white tracking-tight">Explore the <span class="text-gold">Curriculum</span></h2>
      <p class="mt-4 text-lg text-slate-400">50+ free lessons organized by topic. Start anywhere ‚Äî go deep on what matters to you.</p>
    </div>

    <div class="mb-10 fade-in-up">
      <div class="flex overflow-x-auto horizontal-scroll gap-2 pb-2 -mx-4 px-4 lg:mx-0 lg:px-0 lg:flex-wrap lg:justify-center" id="content-tabs">
        {tabs.map((tab, i) => (
          <button data-category={tab.cat} class={`content-tab flex items-center gap-2 px-4 py-2.5 rounded-full text-sm font-semibold whitespace-nowrap transition-all duration-300 min-h-[44px] border ${i === 0 ? 'bg-gold/[0.12] text-gold border-gold/30' : 'bg-white/[0.03] text-slate-400 border-white/[0.06] hover:bg-white/[0.06] hover:text-white hover:border-white/[0.12]'}`}>
            <span>{tab.icon}</span>
            <span>{tab.label}</span>
          </button>
        ))}
      </div>
    </div>

    <div class="grid sm:grid-cols-2 lg:grid-cols-3 gap-5" id="content-grid">
      {curriculumCards.map((card) => (
        <a href={card.href} data-category={card.cat} class={`content-card group glass-card rounded-2xl p-6 block ${card.hidden ? 'hidden' : ''}`}>
          <span class="inline-block text-xs font-bold text-gold bg-gold/[0.1] px-2.5 py-1 rounded-md mb-4 uppercase tracking-wider">{card.badge}</span>
          <h3 class="text-lg font-bold text-white group-hover:text-gold transition-colors duration-300 mb-2 leading-snug">{card.title}</h3>
          <p class="text-slate-400 text-sm leading-relaxed mb-4">{card.desc}</p>
          <div class="flex items-center justify-between mt-auto pt-4 border-t border-white/[0.06]">
            <span class="text-slate-500 text-xs font-medium">{card.time}</span>
            <svg class="w-5 h-5 text-slate-600 group-hover:text-gold group-hover:translate-x-1 transition-all duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path></svg>
          </div>
        </a>
      ))}
    </div>

    <div class="text-center mt-12 fade-in-up">
      <a href="/learn" class="inline-flex items-center gap-2 text-gold font-semibold hover:text-gold-light transition-colors group">
        <span>View all lessons</span>
        <svg class="w-5 h-5 group-hover:translate-x-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path></svg>
      </a>
    </div>
  </div>
</section>

<!-- ============================================================
     TESTIMONIALS
     ============================================================ -->
<section class="py-20 lg:py-28 relative overflow-hidden">
  <div class="absolute inset-0 bg-navy-900"></div>
  <div class="absolute inset-0 bg-[radial-gradient(ellipse_at_center,_rgba(201,168,76,0.04)_0%,_transparent_70%)]"></div>
  <div class="relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="text-center max-w-2xl mx-auto mb-16 fade-in-up">
      <h2 class="text-3xl sm:text-4xl lg:text-5xl font-extrabold text-white tracking-tight">What People Are <span class="text-gold">Saying</span></h2>
      <p class="mt-4 text-lg text-slate-400">Real feedback from real learners. No paid testimonials ‚Äî ever.</p>
    </div>
    <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6 stagger-children">
      {testimonials.map((t) => (
        <div class="glass-card rounded-2xl p-6 lg:p-8 flex flex-col">
          <div class="flex gap-1 mb-4">
            {Array.from({length:5}).map(() => (
              <svg class="w-4 h-4 text-gold" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg>
            ))}
          </div>
          <p class="text-slate-300 text-sm leading-relaxed flex-1">"{t.quote}"</p>
          <div class="mt-5 pt-4 border-t border-white/[0.06]">
            <p class="text-gold text-sm font-semibold">‚Äî {t.author}</p>
            <p class="text-slate-500 text-xs mt-0.5">{t.source}</p>
          </div>
        </div>
      ))}
    </div>
  </div>
</section>

<!-- ============================================================
     EMAIL CTA
     ============================================================ -->
<section class="relative overflow-hidden">
  <div class="absolute inset-0 bg-gradient-to-br from-navy via-navy-light/20 to-navy-dark"></div>
  <div class="absolute inset-0 bg-[radial-gradient(ellipse_at_top_left,_rgba(201,168,76,0.1)_0%,_transparent_50%)]"></div>
  <div class="absolute inset-0 bg-[radial-gradient(ellipse_at_bottom_right,_rgba(201,168,76,0.06)_0%,_transparent_50%)]"></div>
  <div class="absolute top-0 left-1/4 w-px h-full bg-gradient-to-b from-transparent via-gold/10 to-transparent"></div>
  <div class="absolute top-0 right-1/3 w-px h-full bg-gradient-to-b from-transparent via-gold/5 to-transparent"></div>
  <div class="relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20 lg:py-28">
    <div class="max-w-2xl mx-auto text-center fade-in-up">
      <div class="inline-flex items-center gap-2 px-4 py-1.5 rounded-full bg-gold/[0.08] border border-gold/20 mb-8">
        <svg class="w-4 h-4 text-gold" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path></svg>
        <span class="text-gold text-sm font-semibold">Free Weekly Insights</span>
      </div>
      <h2 class="text-3xl sm:text-4xl lg:text-5xl font-extrabold text-white tracking-tight">Start Your <span class="text-gold">IBC Education</span></h2>
      <p class="mt-5 text-lg text-slate-300 leading-relaxed max-w-lg mx-auto">Get the free IBC Starter Guide and weekly insights delivered to your inbox. No spam, no sales pitches ‚Äî just education.</p>
      <form class="mt-10 flex flex-col sm:flex-row gap-3 max-w-lg mx-auto">
        <input type="email" placeholder="Enter your email address" required class="flex-1 px-5 py-4 bg-navy-900/60 border border-white/[0.1] rounded-xl text-white placeholder:text-slate-500 focus:outline-none focus:border-gold/50 focus:ring-2 focus:ring-gold/20 transition-all text-sm min-h-[48px]" />
        <button type="submit" class="px-8 py-4 bg-gradient-to-r from-gold to-gold-dark text-navy-900 font-extrabold rounded-xl hover:from-gold-light hover:to-gold transition-all duration-300 shadow-lg shadow-gold/20 hover:shadow-gold/40 whitespace-nowrap text-sm min-h-[48px]">Get Free Guide</button>
      </form>
      <p class="mt-5 text-slate-500 text-xs">We respect your privacy. Unsubscribe at any time. No spam ‚Äî ever.</p>
      <div class="mt-8 flex items-center justify-center gap-6 text-sm text-slate-500">
        <span class="flex items-center gap-1.5">
          <svg class="w-4 h-4 text-gold/60" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path></svg>
          Join 500+ learners
        </span>
        <span>‚Ä¢</span>
        <span>100% free</span>
        <span>‚Ä¢</span>
        <span>No products sold</span>
      </div>
    </div>
  </div>
</section>

<!-- ============================================================
     CLIENT-SIDE SCRIPTS
     ============================================================ -->
<script>
  // Scroll animation observer
  document.addEventListener('DOMContentLoaded', () => {
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('is-visible');
        }
      });
    }, { threshold: 0.1 });

    document.querySelectorAll('.fade-in-up, .fade-in-left, .fade-in-right, .fade-in, .stagger-children').forEach(el => {
      observer.observe(el);
    });

    // Masters scrolling columns
    const container = document.getElementById('masters-scroll-container');
    if (container) {
      container.querySelectorAll('.masters-col').forEach(col => {
        const track = col.querySelector('.masters-track') as HTMLElement;
        if (!track) return;
        const speed = parseFloat((col as HTMLElement).dataset.speed || '0.3');
        let offset = 0;
        const original = track.innerHTML;
        track.innerHTML = original + original;
        const halfHeight = track.scrollHeight / 2;
        function scroll() {
          offset += speed;
          if (offset >= halfHeight) offset = 0;
          track.style.transform = `translateY(-${offset}px)`;
          requestAnimationFrame(scroll);
        }
        requestAnimationFrame(scroll);
      });
    }

    // Persona selector
    const options = document.querySelectorAll('.persona-option');
    const continueBtn = document.getElementById('persona-continue');
    options.forEach(opt => {
      opt.addEventListener('click', (e) => {
        e.preventDefault();
        const cb = opt.querySelector('.persona-checkbox') as HTMLInputElement;
        const box = opt.querySelector('.check-box')!;
        const icon = opt.querySelector('.check-icon')!;
        cb.checked = !cb.checked;
        if (cb.checked) {
          box.classList.add('border-gold', 'bg-gold/20');
          box.classList.remove('border-slate-600');
          icon.classList.remove('opacity-0');
          icon.classList.add('opacity-100');
          opt.classList.add('border-gold/30', 'bg-gold/[0.05]');
          opt.classList.remove('border-white/[0.06]', 'bg-white/[0.03]');
        } else {
          box.classList.remove('border-gold', 'bg-gold/20');
          box.classList.add('border-slate-600');
          icon.classList.add('opacity-0');
          icon.classList.remove('opacity-100');
          opt.classList.remove('border-gold/30', 'bg-gold/[0.05]');
          opt.classList.add('border-white/[0.06]', 'bg-white/[0.03]');
        }
        const anyChecked = document.querySelectorAll('.persona-checkbox:checked').length > 0;
        if (anyChecked) {
          continueBtn?.classList.remove('opacity-40', 'pointer-events-none');
          continueBtn?.classList.add('opacity-100', 'hover:bg-gold/20', 'hover:border-gold/40', 'hover:shadow-lg', 'hover:shadow-gold/10');
        } else {
          continueBtn?.classList.add('opacity-40', 'pointer-events-none');
          continueBtn?.classList.remove('opacity-100', 'hover:bg-gold/20', 'hover:border-gold/40', 'hover:shadow-lg', 'hover:shadow-gold/10');
        }
      });
    });
    continueBtn?.addEventListener('click', () => {
      const checked = document.querySelector('.persona-checkbox:checked') as HTMLInputElement;
      if (checked) {
        const href = checked.closest('.persona-option')?.getAttribute('data-href');
        if (href) window.location.href = href;
      }
    });

    // Curriculum tabs
    const tabs = document.querySelectorAll('.content-tab');
    const cards = document.querySelectorAll('.content-card');
    tabs.forEach(tab => {
      tab.addEventListener('click', () => {
        const cat = tab.getAttribute('data-category');
        tabs.forEach(t => {
          t.classList.remove('bg-gold/[0.12]', 'text-gold', 'border-gold/30');
          t.classList.add('bg-white/[0.03]', 'text-slate-400', 'border-white/[0.06]');
        });
        tab.classList.remove('bg-white/[0.03]', 'text-slate-400', 'border-white/[0.06]');
        tab.classList.add('bg-gold/[0.12]', 'text-gold', 'border-gold/30');
        cards.forEach(card => {
          if (card.getAttribute('data-category') === cat) {
            card.classList.remove('hidden');
          } else {
            card.classList.add('hidden');
          }
        });
      });
    });
  });
</script>

</PageLayout>
